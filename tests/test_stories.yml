#### This file contains tests to evaluate that your bot behaves as expected.
#### If you want to learn more, please see the docs: https://rasa.com/docs/rasa/testing-your-assistant
### To test use rasa test core --stories ./tests/test_stories.yml --out results
stories:

- story: presentation and add activity already deadline 1
  steps:
  - user: |
      im [nandinoxD](username)
    intent: presentation
  - action: add_new_user_form
  - active_loop: null
  - action: action_create_user
  - user: |
      add [run]{"entity": "activity", "role": "new"} into [daily]{"entity": "category", "role": "new"} at 22th december 2022
    intent: add_item
  - slot_was_set:
    - time: "2022-12-22T00:00:00.000+01:00"
  - action: add_item_form
  - active_loop: null
  - action: utter_ask_if_reminder
  - user: |
      no
    intent: deny
  - action: action_add_item 

- story: presentation and add activity withouth deadline 1
  steps:
  - user: |
      im [nandinoxD](username)
    intent: presentation
  - action: add_new_user_form
  - active_loop: null
  - action: action_create_user
  - user: |
      add [run]{"entity": "activity", "role": "new"} into [daily]{"entity": "category", "role": "new"}
    intent: add_item
  - action: add_item_form
  - active_loop: null
  - action: utter_ask_if_deadline
  - user: |
      no
    intent: deny
  - action: action_add_item
  

- story: presentation and add activity with deadline 1
  steps:
  - user: |
      im [nandinoxD](username)
    intent: presentation
  - action: add_new_user_form
  - active_loop: null
  - slot_was_set:
    - requested_slot: null
  - action: action_create_user
  - user: |
      add [painting]{"entity": "activity", "role": "new"} into [weekly]{"entity": "category", "role": "new"}
    intent: add_item
  - action: add_item_form
  - active_loop: null
  - action: utter_ask_if_deadline
  - user: |
      yep
    intent: affirm
  - action: add_deadline_form
  - active_loop: add_deadline_form
  - user: |
      27th september 2022
    intent: inform
  - action: add_deadline_form
  - slot_was_set:
    - time: "2022-09-27T00:00:00.000+02:00"
  - active_loop: null
  - action: utter_ask_if_reminder
  - user: |
      yes
    intent: affirm
  - action: action_set_reminder_slot
  - action: action_add_item

- story: presentation and add activity withouth deadline 2
  steps:
  - user: |
      my username is [albericoDocce00](username)
    intent: presentation
  - action: add_new_user_form
  - active_loop: null
  - action: action_create_user
  - user: |
      add [rob]{"entity": "activity", "role": "new"} into [weekly]{"entity": "category", "role": "new"}
    intent: add_item
  - action: add_item_form
  - active_loop: null
  - action: utter_ask_if_deadline
  - user: |
      no
    intent: deny
  - action: action_add_item
  

- story: presentation and add activity withouth deadline 2
  steps:
  - user: |
      im [banana33](username)
    intent: presentation
  - action: add_new_user_form
  - active_loop: null
  - action: action_create_user
  - user: |
      add [chat]{"entity": "activity", "role": "new"} into [daily]{"entity": "category", "role": "new"}
    intent: add_item
  - action: add_item_form
  - active_loop: null
  - action: utter_ask_if_deadline
  - user: |
      yep
    intent: affirm
  - action: add_deadline_form
  - active_loop: add_deadline_form
  - user: |
      17th september 1999
    intent: inform
  - slot_was_set:
    - time: "19999-09-17T00:00:00.000+01:00"
  - action: add_deadline_form
  - active_loop: null
  - action: utter_ask_if_reminder
  - user: |
      no
    intent: deny
  - action: action_add_item
  

#################################### Test Stories  Clean completed activities with confirmation######################################
stories:
- story: test1 for clean complete activities confirmed
  steps:
  - user: |
      clean completed activities
    intent: clean_activities
  - action: clean_activities_form
  - active_loop: clean_activities_form
  - user: |
      [Luca90](username)
    intent: inform
  - action: clean_activities_form
  - active_loop: null 
  - action: utter_confirm_choice
  - user: |
      yeah
    intent: affirm
  - action: action_clean_all_completed

- story: test2 for clean complete activities confirmed
  steps:
  - user: |
      I want to delete completed activities
    intent: clean_activities
  - action: clean_activities_form
  - active_loop: clean_activities_form
  - user: |
      [Geronimo](username)
    intent: inform
  - action: clean_activities_form
  - active_loop: null 
  - action: utter_confirm_choice
  - user: |
      yes
    intent: affirm
  - action: action_clean_all_completed

- story: test3 for clean complete activities confirmed
  steps:
  - user: |
      delete all my completed activities
    intent: clean_activities
  - action: clean_activities_form
  - active_loop: clean_activities_form
  - user: |
      [Vittoria](username)
    intent: inform
  - action: clean_activities_form
  - active_loop: null 
  - action: utter_confirm_choice
  - user: |
      yep
    intent: affirm
  - action: action_clean_all_completed

- story: test4 for clean complete activities confirmed
  steps:
  - user: |
      remove my completed activities
    intent: clean_activities
  - action: clean_activities_form
  - active_loop: clean_activities_form
  - user: |
      [Antonio29](username)
    intent: inform
  - action: clean_activities_form
  - active_loop: null 
  - action: utter_confirm_choice
  - user: |
      yes
    intent: affirm
  - action: action_clean_all_completed

- story: test5 for clean complete activities confirmed
  steps:
  - user: |
      delete the activities completed
    intent: clean_activities
  - action: clean_activities_form
  - active_loop: clean_activities_form
  - user: |
      [Silvietta2](username)
    intent: inform
  - action: clean_activities_form
  - active_loop: null 
  - action: utter_confirm_choice
  - user: |
      yes
    intent: affirm
  - action: action_clean_all_completed

#################################### Test Stories Clean completed activities with negation######################################
- story: test1 for clean complete activities denied
  steps:
  - user: |
      clean completed activities
    intent: clean_activities
  - action: clean_activities_form
  - active_loop: clean_activities_form
  - user: |
      [Lucia](username)
    intent: inform
  - action: clean_activities_form
  - active_loop: null 
  - action: utter_confirm_choice
  - user: |
      no
    intent: deny
  - action: utter_deny_choice
  - action: action_reset_slot

- story: test2 for clean complete activities denied
  steps:
  - user: |
      I want to delete completed activities
    intent: clean_activities
  - action: clean_activities_form
  - active_loop: clean_activities_form
  - user: |
      [Valentina394](username)
    intent: inform
  - action: clean_activities_form
  - active_loop: null 
  - action: utter_confirm_choice
  - user: |
      nope
    intent: deny
  - action: utter_deny_choice
  - action: action_reset_slot

- story: test3 for clean complete activities denied
  steps:
  - user: |
      delete all my completed activities
    intent: clean_activities
  - action: clean_activities_form
  - active_loop: clean_activities_form
  - user: |
      [Paolino](username)
    intent: inform
  - action: clean_activities_form
  - active_loop: null 
  - action: utter_confirm_choice
  - user: |
      no thanks
    intent: deny
  - action: utter_deny_choice
  - action: action_reset_slot

- story: test4 for clean complete activities denied
  steps:
  - user: |
      remove my completed activities
    intent: clean_activities
  - action: clean_activities_form
  - active_loop: clean_activities_form
  - user: |
      [Francesca](username)
    intent: inform
  - action: clean_activities_form
  - active_loop: null 
  - action: utter_confirm_choice
  - user: |
      no sorry
    intent: deny
  - action: utter_deny_choice
  - action: action_reset_slot

- story: test5 for clean complete activities denied
  steps:
  - user: |
      delete the activities completed
    intent: clean_activities
  - action: clean_activities_form
  - active_loop: clean_activities_form
  - user: |
      [Vito2](username)
    intent: inform
  - action: clean_activities_form
  - active_loop: null 
  - action: utter_confirm_choice
  - user: |
      no
    intent: deny
  - action: utter_deny_choice
  - action: action_reset_slot

