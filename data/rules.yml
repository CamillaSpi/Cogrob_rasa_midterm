version: "2.0"

rules:

- rule: Say goodbye anytime the user says goodbye
  steps:
  - intent: goodbye
  - action: utter_goodbye

- rule: Say 'I am a bot' anytime the user challenges
  steps:
  - intent: bot_challenge
  - action: utter_iamabot

- rule: Log new users in
  steps:
  - intent: presentation
  - action: add_new_user_form
  - active_loop: add_new_user_form

- rule: Submit new user creation
  condition:
  - active_loop: add_new_user_form
  steps:
  - action: add_new_user_form
  - active_loop: null
  - slot_was_set:
    - requested_slot: null
  - action: action_create_user

- rule: add activity with deadline
  steps:
    - intent: add_item
    - action: add_item_form
    - active_loop: add_item_form

- rule: Submit add activity with deadline
  condition:
  - active_loop: add_item_form
  steps:
  - action: add_item_form
  - active_loop: null
  - slot_was_set:
    - requested_slot: null
  - action: action_add_item

- rule: remove activity with deadline
  steps:
    - intent: remove_item
    - action: remove_item_form
    - active_loop: remove_item_form

- rule: Submit remove activity with deadline
  condition:
  - active_loop: remove_item_form
  steps:
  - action: remove_item_form
  - active_loop: null
  - slot_was_set:
    - requested_slot: null
  - action: action_remove_item

#completed action
- rule: set complete activity
  steps:
    - intent: set_complete
    - action: set_complete_form
    - active_loop: set_complete_form

- rule: Submit complited activity
  condition:
  - active_loop: set_complete_form
  steps:
  - action: set_complete_form
  - active_loop: null
  - slot_was_set:
    - requested_slot: null
  - action: action_set_complete

  #uncomplited action
- rule: set uncomplete activity
  steps:
    - intent: set_uncomplete
    - action: set_uncomplete_form
    - active_loop: set_uncomplete_form

- rule: Submit uncomplited activity
  condition:
  - active_loop: set_uncomplete_form
  steps:
  - action: set_uncomplete_form
  - active_loop: null
  - slot_was_set:
    - requested_slot: null
  - action: action_set_uncomplete

# Add Category 
- rule: add category
  steps:
    - intent: add_category
    - action: add_category_form
    - active_loop: add_category_form

- rule: Submit add category
  condition:
  - active_loop: add_category_form
  steps:
  - action: add_category_form
  - active_loop: null
  - slot_was_set:
    - requested_slot: null
  - action: action_add_category

# Remove Category 
- rule: Remove Category
  steps:
    - intent: remove_category
    - action: remove_category_form
    - active_loop: remove_category_form

- rule: Submit Remove Category
  condition:
  - active_loop: remove_category_form
  steps:
  - action: remove_category_form
  - active_loop: null
  - slot_was_set:
    - requested_slot: null
  - action: action_remove_category
  